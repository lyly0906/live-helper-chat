<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">

    <style type="text/css">
      body,html,#container{
        width: 100%;
        height: 100%;
        margin: 0px
      }
    </style>

  </head>
  <body>
    <div id="container" tabindex="0"></div>
    <script src="https://webapi.amap.com/maps?v=1.3&key=51a56d9b6e257867404b06f173175135"></script>
    <script type="text/javascript">
       function GetQueryString(name)
       {
          var reg = new RegExp("(^|&)"+ name +"=([^&]*)(&|$)");
          var r = window.location.search.substr(1).match(reg);
          if(r!=null)return  unescape(r[2]); return null;
       }

        var map = new AMap.Map('container', {
           resizeEnable: true,
           center:[GetQueryString('lon'),GetQueryString('lat')],
           zoom:11
        });
        AMap.plugin('AMap.ToolBar',function(){
           var toolbar = new AMap.ToolBar();
           map.addControl(toolbar)
        });
var icon = new AMap.Icon({
        image : 'http://vdata.amap.com/icons/b18/1/2.png',//24px*24px
        //icon可缺省，缺省时为默认的蓝色水滴图标，
        size : new AMap.Size(24,24)
});
var marker = new AMap.Marker({
        icon : icon,//24px*24px
        position : new AMap.LngLat(GetQueryString('lon'),GetQueryString('lat')),
        offset : new AMap.Pixel(-12,-12),
        map : map
});


    </script>
    <script type="text/javascript" src="https://webapi.amap.com/demos/js/liteToolbar.js"></script>
  </body>
</html>